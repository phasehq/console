mutation CreateIdentity(
  $organisationId: ID!
  $provider: String!
  $name: String!
  $description: String
  $trustedPrincipals: String!
  $signatureTtlSeconds: Int
  $stsEndpoint: String
  $tokenNamePattern: String
  $defaultTtlSeconds: Int!
  $maxTtlSeconds: Int!
) {
  createIdentity(
    organisationId: $organisationId
    provider: $provider
    name: $name
    description: $description
    trustedPrincipals: $trustedPrincipals
    signatureTtlSeconds: $signatureTtlSeconds
    stsEndpoint: $stsEndpoint
    tokenNamePattern: $tokenNamePattern
    defaultTtlSeconds: $defaultTtlSeconds
    maxTtlSeconds: $maxTtlSeconds
  ) {
    identity {
      id
      provider
      name
      description
      config {
        ... on AwsIamConfigType {
          trustedPrincipals
          signatureTtlSeconds
          stsEndpoint
        }
      }
      tokenNamePattern
      defaultTtlSeconds
      maxTtlSeconds
    }
  }
}
